(window.webpackJsonp=window.webpackJsonp||[]).push([[605],{636:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("我知道二分查找常见有 3 种写法，是在「力扣」的「学习」板块的「LeetBook」里，有一本叫「二分查找」的 LeetBook。")]),t._v(" "),s("p",[t._v("如果你使用英文版的 LeetCode，「学习」版块叫「explore」。")]),t._v(" "),s("p",[t._v("我简单解释一下大家常见的三个模板，它们区分的标志是 "),s("code",[t._v("while")]),t._v(" 里面写什么。")]),t._v(" "),s("ul",[s("li",[t._v("模板 1："),s("code",[t._v("while (left <= right)")])]),t._v(" "),s("li",[t._v("模板 2："),s("code",[t._v("while (left < right)")])]),t._v(" "),s("li",[t._v("模板 3："),s("code",[t._v("while (left + 1 < right)")])])]),t._v(" "),s("h2",{attrs:{id:"模板-1-while-left-right"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模板-1-while-left-right"}},[t._v("#")]),t._v(" 模板 1："),s("code",[t._v("while (left <= right)")])]),t._v(" "),s("p",[t._v("看到 "),s("code",[t._v("while (left <= right)")]),t._v(" 这种写法的朋友们，你一定会看到「大佬」们这么用：声明一个 "),s("code",[t._v("ans")]),t._v(" 变量，一定会出现在 "),s("code",[t._v("if")]),t._v(" 和 "),s("code",[t._v("else")]),t._v(" 分支里的其中一个。")]),t._v(" "),s("p",[t._v("以下是「力扣」第 35 题官方题解：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gx56kl1pv3j318a0kujub.jpg",alt:"",loading:"lazy"}})]),t._v(" "),s("ul",[s("li",[t._v("题目要我们找的是："),s("strong",[t._v("第 1 个大于等于 "),s("code",[t._v("target")]),t._v(" 的元素的位置")]),t._v("，当看到一个元素 "),s("code",[t._v("nums[mid]")]),t._v(" 大于等于 "),s("code",[t._v("target")]),t._v(" 的时候，"),s("code",[t._v("nums[mid]")]),t._v(" 有可能就是我们要找的，所以把 "),s("code",[t._v("ans")]),t._v(" 先保存为 "),s("code",[t._v("mid")]),t._v("；")]),t._v(" "),s("li",[t._v("数组的长度 "),s("code",[t._v("n")]),t._v(" ，也就是数组的最后一个元素的下一个位置也有可能是答案，所以一开始的时候设置 "),s("code",[t._v("ans = n")]),t._v("；")]),t._v(" "),s("li",[s("code",[t._v("if")]),t._v(" 和 "),s("code",[t._v("else")]),t._v(" 里面，不管怎么样，"),s("code",[t._v("left")]),t._v(" 和 "),s("code",[t._v("right")]),t._v(" 的设置都需要 + 1 或者 -1。设置 "),s("code",[t._v("left = mid + 1")]),t._v("，说明下一轮向右边找，设置 "),s("code",[t._v("right = mid - 1")]),t._v(" ，说明下一轮向左边找。这是因为："),s("strong",[s("code",[t._v("mid")]),t._v(" 如果有可能是解的话，因为有了 "),s("code",[t._v("ans")]),t._v(" 的设置，一定不会丢失最优解")]),t._v("；")]),t._v(" "),s("li",[t._v("当 "),s("code",[t._v("left == right")]),t._v(" 重合的时候，"),s("code",[t._v("left")]),t._v(" 位置的值还没有看到，所以要继续找下去，因此循环可以继续的条件是 "),s("code",[t._v("while (left <= right)")]),t._v("；")]),t._v(" "),s("li",[t._v("最后返回的是 "),s("code",[t._v("ans")]),t._v(" 哦，不是 "),s("code",[t._v("left")]),t._v(" 或者 "),s("code",[t._v("right")]),t._v(" 的任何一个。")])]),t._v(" "),s("p",[t._v("大家可以在回头看看本章第 2 节（标题为：「力扣」上一类问题的特点（极其重要）），我复制下来，重要的事情讲 3 遍。")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[s("strong",[t._v("如果当前猜的那个数 "),s("code",[t._v("nums[mid]")]),t._v(" 符合某个性质，我们还不能确定它一定就是我们要找的元素，必须向左边（或者向右边）继续看下去，才能确定 "),s("code",[t._v("nums[mid]")]),t._v(" 是不是我们要找的元素")]),t._v("。")])]),t._v(" "),s("p",[t._v("这种写法也叫带 "),s("code",[t._v("ans")]),t._v(" 的「二分查找」，「力扣」的巨佬：零神（id：zerotrac）以前就经常用这种写法，现在我不刷题了，所以不知道他是不是还这样写。")]),t._v(" "),s("h2",{attrs:{id:"模板-2-while-left-right"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模板-2-while-left-right"}},[t._v("#")]),t._v(" 模板 2："),s("code",[t._v("while (left < right)")])]),t._v(" "),s("p",[t._v("如果你看过我在第 35 题写的题解，就会知道我一直在用这种写法，所以我这里就不展开了。简单说一下：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("while (left < right)")]),t._v(" 这种写法，我最喜欢的地方是退出循环以后 "),s("code",[t._v("left")]),t._v(" 与 "),s("code",[t._v("right")]),t._v(" 重合；")]),t._v(" "),s("li",[t._v("这种写法我起过很多名字：「两边夹」、「排除法」。它看起来像下面这个样子：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gx56kpmdjjg30dc07iq36.gif",alt:"",loading:"lazy"}})]),t._v(" "),s("p",[t._v("叫「两边夹」是因为这个写法是："),s("strong",[t._v("两个变量 "),s("code",[t._v("left")]),t._v(" 和 "),s("code",[t._v("right")]),t._v(" 向中间走，相遇的时候停下")]),t._v("。相遇的时候是 "),s("code",[t._v("left == right")]),t._v("，所以循环可以继续的条件是 "),s("code",[t._v("while (left < right)")]),t._v("。")]),t._v(" "),s("p",[t._v("叫「排除法」是每一轮都把一定不是目标元素的值排除掉，下一轮只在有可能存在目标元素的区间里查找。")]),t._v(" "),s("ul",[s("li",[t._v("这种写法最难理解的地方是当看到 "),s("code",[t._v("left = mid")]),t._v(" 的时候，取中间数需要加 "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("1")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.6444em"}}),s("span",{staticClass:"mord"},[t._v("1")])])])]),t._v("。原因在于："),s("strong",[t._v("整数除法是下取整，取 "),s("code",[t._v("mid")]),t._v(" 的时候不能做到真正取到中间位置")]),t._v("，例如 "),s("code",[t._v("left = 3, right = 4")]),t._v("， "),s("code",[t._v("mid = (left + right) / 2 = 3")]),t._v("，此时 "),s("code",[t._v("mid")]),t._v(" 的值等于 "),s("code",[t._v("left")]),t._v("，一旦进入 "),s("code",[t._v("left = mid")]),t._v(" 这个分支，搜索区间不能缩小，因此会进入死循环。")])]),t._v(" "),s("p",[t._v("这是很多朋友和我说最难理解的地方，我有两个办法：")]),t._v(" "),s("ul",[s("li",[t._v("办法 1：遇到死循环的时候，把 "),s("code",[t._v("left")]),t._v("、"),s("code",[t._v("right")]),t._v("、"),s("code",[t._v("mid")]),t._v(" 的值打印出来看一下，例如「力扣」第 69 题。")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mySqrt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 特殊值判断")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在区间 [left..right] 查找目标元素")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" right"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 取中间数 mid 下取整时")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" mid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调试语句开始")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"left = "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('", right = "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('", mid = "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" mid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调试语句结束")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意：这里为了避免乘法溢出，改用除法")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" mid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 下一轮搜索区间是 [left..mid - 1]")]),t._v("\n                right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 下一轮搜索区间是 [mid..right]")]),t._v("\n                left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" left"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),t._v(" solution "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" solution"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mySqrt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gx56lv9ibhj30ni0a4my2.jpg",alt:"",loading:"lazy"}})]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("这里有个小技巧，一般我会在注释里写上「下一轮搜索区间是什么」。如果下一轮搜索区间是 "),s("code",[t._v("[mid..right]")]),t._v(" ，这个时候就设置 "),s("code",[t._v("left = mid")]),t._v("，这种情况的反面区间就是 "),s("code",[t._v("[left..mid - 1]")]),t._v(" ，那么 "),s("code",[t._v("else")]),t._v(" 就设置 "),s("code",[t._v("right = mid - 1")]),t._v("。区间 "),s("code",[t._v("[mid..right]")]),t._v(" 和 "),s("code",[t._v("[left..mid - 1]")]),t._v(" 组成了原来的整个区间 "),s("code",[t._v("[left..right]")]),t._v(" 不用记忆配对关系了。")])]),t._v(" "),s("ul",[s("li",[t._v("办法 2：暂时不用管这件事情，题目做多了，就慢慢理解了。")])]),t._v(" "),s("p",[t._v("「力扣」上很多大佬用的都是这种写法，例如宫水三叶（id：ac_oier），张晴川（id：qingczha）。")]),t._v(" "),s("p",[t._v("这种写法需要注意的地方：")]),t._v(" "),s("ul",[s("li",[t._v("看到 "),s("code",[t._v("mid")]),t._v(" 的时候一定要清楚两件事情：")])]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("mid")]),t._v(" 是不是解；")])]),t._v(" "),s("li",[s("p",[t._v("下一轮向左边找，还是向右边找。")])])]),t._v(" "),s("p",[t._v("所以就会有「"),s("code",[t._v("left = mid")]),t._v(" 与 "),s("code",[t._v("right = mid - 1")]),t._v("」与「"),s("code",[t._v("left = mid + 1")]),t._v(" 与 "),s("code",[t._v("right = mid")]),t._v("」这两种区间设置，其实就是一个包含 "),s("code",[t._v("mid")]),t._v(" 一个不包含 "),s("code",[t._v("mid")]),t._v(" 的区别而已。")]),t._v(" "),s("p",[t._v("分成两个区间，如果分成三个区间，不一定退出循环以后 "),s("code",[t._v("left")]),t._v(" 与 "),s("code",[t._v("right")]),t._v(" 会重合。")]),t._v(" "),s("p",[t._v("怎么知道 "),s("code",[t._v("mid")]),t._v(" 是不是解，下一轮向左边找，还是向右边找，答案是："),s("strong",[t._v("看题目")]),t._v("，重要的事情说三遍，"),s("strong",[t._v("看题目、看题目、看题目")]),t._v("。")]),t._v(" "),s("p",[t._v("所以这里还有一个小技巧："),s("strong",[t._v("分析清楚题目要找的元素需要符合什么性质")]),t._v("。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("if")]),t._v(" 写不符合这个性质，把 "),s("code",[t._v("mid")]),t._v(" 排除掉；")]),t._v(" "),s("li",[s("code",[t._v("else")]),t._v(" 就恰好是这个性质。")])]),t._v(" "),s("p",[t._v("原因很简单：不符合性质的时候，把 "),s("code",[t._v("mid")]),t._v(" 排除掉的逻辑不容易出错（这是个人感觉，评论区有和我一样有同感的朋友）。但是这一点不绝对，我做过的题目只有「力扣」第 287 题例外。")]),t._v(" "),s("p",[t._v("例如「力扣」第 35 题：题目要我们找：第一个大于等于 "),s("code",[t._v("target")]),t._v(" 的元素的位置。")]),t._v(" "),s("p",[t._v("所以如果看到的元素 "),s("code",[t._v("nums[mid]")]),t._v(" 的值 "),s("strong",[t._v("严格小于 "),s("code",[t._v("target")])]),t._v("，"),s("code",[t._v("mid")]),t._v(" 肯定不是我们要找的，下一轮应该在右边继续查找，所以下一轮搜索区间是 "),s("code",[t._v("[mid + 1..right]")]),t._v("，设置 "),s("code",[t._v("left = mid = 1")]),t._v("，下面的代码 "),s("code",[t._v("if")]),t._v(" 就是这么写出来的。")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("searchInsert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" nums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" len "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" right"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" mid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" right"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 下一轮搜索区间是 [mid + 1..right]")]),t._v("\n                left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 下一轮搜索区间是 [left..mid]")]),t._v("\n                right "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" left"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("p",[t._v("其它细节，由于篇幅的原因就不解释了。"),s("strong",[t._v("大家题目做多了，都能理解到")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"模板-3-while-left-1-right"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模板-3-while-left-1-right"}},[t._v("#")]),t._v(" 模板 3："),s("code",[t._v("while (left + 1 < right)")])]),t._v(" "),s("p",[t._v("下面这段代码是我从 LeetBook 里面截图，把需要注意的地方加上了注释。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gx56m28o8kj31100jyadz.jpg",alt:"",loading:"lazy"}})]),t._v(" "),s("p",[t._v("这种写法的提出者我也不知道是谁，我看蛮多人爱用这种写法的。设计这种写法的想法（好处）和不好的地方，我为大家罗列一下。")]),t._v(" "),s("ul",[s("li",[t._v("为了不想判断 "),s("code",[t._v("mid")]),t._v(" 是不是保留，把 "),s("code",[t._v("left")]),t._v(" 和 "),s("code",[t._v("right")]),t._v(" 的设置都写成："),s("code",[t._v("left = mid")]),t._v(" 和 "),s("code",[t._v("right = mid")]),t._v("。表示的意思是都保留了 "),s("code",[t._v("mid")]),t._v(" 位置的值，"),s("strong",[t._v("但是不能省去的判断是「下一轮向左走还是向右走」")]),t._v("；")]),t._v(" "),s("li",[t._v("为了不想出现死循环，把循环可以继续的条件写成了 "),s("code",[t._v("while (left + 1 < right)")]),t._v("，"),s("strong",[t._v("但是不能省去的判断是「退出循环以后」，一定要再判断一下 "),s("code",[t._v("left")]),t._v(" 和 "),s("code",[t._v("right")]),t._v(" 哪一个才是题目要找的解，这一步有可能会增加一些本来不必要的逻辑（例如「力扣」第 34 题）")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"我用什么模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#我用什么模板"}},[t._v("#")]),t._v(" 我用什么模板")]),t._v(" "),s("p",[t._v("我不固定用哪一种写法，绝大多数情况用「模板二」，这是因为「力扣」上很多问题都是较为复杂的问题，绝对不用「模板三」，模板三就是在背代码，然后往里面填空，事实上没有必要这么做。")]),t._v(" "),s("p",[t._v("怎么写「二分查找」，依然是得看问题问的是什么：")]),t._v(" "),s("ul",[s("li",[t._v("如果要找的元素性质简单，可以在循环体内决定，我写成 "),s("code",[t._v("while (left <= right)")]),t._v("，并且不设置 "),s("code",[t._v("ans")]),t._v("，因为循环体内就可以返回，没有必要设置 "),s("code",[t._v("ans")]),t._v("；")]),t._v(" "),s("li",[t._v("如果要找的元素性质稍微复杂，就需要要在退出循环体以后决定，我写成 "),s("code",[t._v("while (left < right)")]),t._v("，因为只要仔细的判断，完全可以清楚 "),s("code",[t._v("mid")]),t._v(" 是否排除和下一轮向左边走还是向右边走。出现死循环的原因和解决办法我已经完全理解。我写的题解绝大多数都是这种写法，并且「力扣」上的问题绝大多数都是下面这类问题：")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("提示：重要的事情说三遍，这是本文第三次出现了")]),t._v(" "),s("p",[s("strong",[t._v("如果当前猜的那个数 "),s("code",[t._v("nums[mid]")]),t._v(" 符合某个性质，我们还不能确定它一定就是我们要找的元素，必须向左边（或者向右边）继续看下去，才能确定 "),s("code",[t._v("nums[mid]")]),t._v(" 是不是我们要找的元素")]),t._v("。")])]),t._v(" "),s("p",[t._v("因此其实重点在 "),s("code",[t._v("if")]),t._v(" 和 "),s("code",[t._v("else")]),t._v(" 怎么写，再强调一下这个小技巧："),s("strong",[t._v("分析清楚题目要找的元素需要符合什么性质")]),t._v("。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("if")]),t._v(" 写不符合这个性质，把 "),s("code",[t._v("mid")]),t._v(" 排除掉；")]),t._v(" "),s("li",[s("code",[t._v("else")]),t._v(" 就恰好是这个性质。")])]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("「二分查找」的确是有很多需要细心的地方，但它不是完全不能掌握的，大家需要有一些耐心，题目做得多了，慢慢就理解了。")])])}),[],!1,null,null,null);s.default=e.exports}}]);