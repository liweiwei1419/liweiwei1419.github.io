---
title: 1 循环不变量简介
icon: shipin
category: 循环不变量
tags:
  - 数组
  - 循环不变量
---

## :tv: **视频教程** <Badge text="视频" type="warning"/> <Badge text="重要" type=""/>

建议使用 1.5 倍速观看。

- [3-1 循环不变量（06:41）](https://www.bilibili.com/video/BV1Jg411M7Lp?p=1)

::: danger 视频讲解
:tv: 这道题在 [B 站](https://www.bilibili.com/video/BV1Jg411M7Lp?p=1) 可以收看视频讲解，可以点击下面的视频右上角「去 bilibili 观看」，选择快速播放，获得更好的观看体验。

:::

<div style="position: relative; padding: 30% 45%;">
<iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://player.bilibili.com/player.html?aid=504293075&bvid=BV1Jg411M7Lp&cid=375379133&page=1" frameborder="no" scrolling="no"></iframe>
</div>

<iframe src="" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

::: warning 闲话

很多时候不知道「循环不变量」照样可以把代码写对（有一些朋友不一定看过《算法导论》，但并不影响这些朋友能够顺利地解答算法问题），因为 **写代码的过程中遵守不变的性质是一件顺利成章、非常自然的事情**，这是我们大家心里都有的概念。把这种自然而然的事情起一个名字，叫做遵守了「循环不变量」。
:::

重要的事情再强调一下：

::: danger 提示
「循环不变量」不是很难懂，不是很高深的概念，其实已经隐藏在我们编码的过程中。
:::

顾名思义，循环不变量是在循环的过程中保持不变的性质。

为了完成一件事情，我们需要设计若干个变量。在循环的过程中，**变量的值是变化的，在变化中保持不变的性质就称为循环不变量**。

这里的「量」指的是一些可以判断真假的语句，是我们根据问题的要求和目标人为定义的。定义了不同的循环不变量，对应了不同的算法细节。

《算法导论（第 3 版）》对于循环不变量的描述是这样的：

::: info 循环不变式

循环不变式主要用来帮助我们理解算法的正确性。关于循环不变式，我们必须证明三条性质：

**初始化**：循环的第一次迭代之前，它为真。

**保持**：如果循环的某次迭代之前它为真，那么下次迭代之前它仍为真。

**终止**：在循环终止时，不变式为我们提供一个有用的性质，该性质有助于证明算法是正确的。

::: right
来自 《算法导论》
:::

**我的解释**：

- 「初始化」指的是循环开始前，我们什么都没有做的时候；
- 「保持」指的是在循环的过程中，我们一点一点维护了一件事情；
- 「终止」指的是循环结束的时候，由「初始化」和「保持」逐步递推，**循环不变的范围逐步扩大（排序，让有序排序范围逐步扩大）或者逐步缩小（查找，搜索范围逐渐减少）或者是变化（滑动窗口）的**，直到完成任务。

**「初始化」和「保持」是原因，「终止」是结果**。

在《算法导论（第 3 版）》里，很多地方都出现了「循环不变量」，例如：插入排序、归并排序、优先队列、最小生成树、单源最短路径。
