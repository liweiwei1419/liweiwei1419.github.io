大家好  这里是算法不好玩

这一节我们和大家介绍在 left = mid 

和 right = mid - 1

这种区间划分下

为什么取中间数需要上取整

这是因为如果中间数下取整

在搜索区间里只有两个元素的时候

mid = left

一旦进入第 2 个分支

下一轮搜索区间还是 left 到 right

搜索区间没有缩小

这个时候取中间数因为是下取整的

mid 还等于 left

循环就不能够退出

解决办法就是在搜索区间只有两个元素的时候

取中间数的时候上取整


在搜索区间里的元素大于 2 个时候

上取整和下取整都可以

既然都可以

我们就统一改成上取整


在这样的区间划分下

最终 left 和 right 重合的时候

退出循环


出现死循环的原因是

二分查找不管是在数组中找某个元素的下标

还是查找一个整数

整数的除法不能做到真正的找到中间位置

因为在区间里有偶数个元素的时候

位于中间位置的元素有 2 个

所以就有上取整和下取整的区别

因此我的一般的做法是

先写区间划分的逻辑

然后如果看到有一个分支是 left = mid

把取中间数改成上取整

---

上取整如果暂时想不明白的话

以后遇到问题的时候

在代码当中添加一些打印输出语句

真正看到出现死循环的原因

理解起来就会容易一些

---

借这个细节的讲解

和大家分享一个学习算法与数据结构的经验

那就是很多算法知识都不是看会的


在遇到一些很奇怪的问题的时候

把变量的值打印出来看一眼

很多时候问题就得到了解决

这种看起来最没有技术含量的做法

其实是解决问题的最有效的办法

下一节我们和大家分享写判别条件的经验

感谢大家的收看







